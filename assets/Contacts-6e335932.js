import{C as Q,o as x,p as X,q as Y,t as ee,v as te,w as ne,e as re,g as ae,f as oe,x as se,k as b,y as D,h as C,i as ie,_ as ce,j as a,m as le,n as ue,b as _,d as g,B as q,z as de,A as pe,D as fe,E as T,G as me,F as ve,H as ge,I as he,J as xe,K as be,L as ye,P as F}from"./index-6dd12f59.js";import{c as Ce,a as je,d as _e,i as ze,o as Ne,b as Ee,u as Re,e as Se,T as j,M as Ie}from"./TextField-6ff295cf.js";import{n as E}from"./notiflix-aio-3.2.6.min-a2bcaf54.js";function Fe(e,t){return()=>null}function $e(e,t){return()=>null}function Me(e,t,n,r,s){return null}const we={configure:e=>{Q.configure(e)}},qe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:x,createChainedFunction:Ce,createSvgIcon:je,debounce:_e,deprecatedPropType:Fe,isMuiElement:ze,ownerDocument:Ne,ownerWindow:Ee,requirePropFactory:$e,setRef:X,unstable_ClassNameGenerator:we,unstable_useEnhancedEffect:Y,unstable_useId:Re,unsupportedProp:Me,useControlled:Se,useEventCallback:ee,useForkRef:te,useIsFocusVisible:ne},Symbol.toStringTag,{value:"Module"}));function Oe(e){return ae("MuiIconButton",e)}const Ae=re("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Pe=Ae,ke=["edge","children","className","color","disabled","disableFocusRipple","size"],Be=e=>{const{classes:t,disabled:n,color:r,edge:s,size:o}=e,d={root:["root",n&&"disabled",r!=="default"&&`color${x(r)}`,s&&`edge${x(s)}`,`size${x(o)}`]};return ue(d,Oe,t)},Le=oe(se,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${x(n.color)}`],n.edge&&t[`edge${x(n.edge)}`],t[`size${x(n.size)}`]]}})(({theme:e,ownerState:t})=>b({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:D(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return b({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&b({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":b({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:D(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Pe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),De=C.forwardRef(function(t,n){const r=ie({props:t,name:"MuiIconButton"}),{edge:s=!1,children:o,className:d,color:c="default",disabled:l=!1,disableFocusRipple:u=!1,size:v="medium"}=r,p=ce(r,ke),i=b({},r,{edge:s,color:c,disabled:l,disableFocusRipple:u,size:v}),m=Be(i);return a.jsx(Le,b({className:le(m.root,d),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:i},p,{children:o}))}),U=De;var R="NOT_FOUND";function Te(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:R},put:function(r,s){t={key:r,value:s}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function Ue(e,t){var n=[];function r(c){var l=n.findIndex(function(v){return t(c,v.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return R}function s(c,l){r(c)===R&&(n.unshift({key:c,value:l}),n.length>e&&n.pop())}function o(){return n}function d(){n=[]}return{get:r,put:s,getEntries:o,clear:d}}var We=function(t,n){return t===n};function Ve(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var s=n.length,o=0;o<s;o++)if(!e(n[o],r[o]))return!1;return!0}}function Ge(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,s=r===void 0?We:r,o=n.maxSize,d=o===void 0?1:o,c=n.resultEqualityCheck,l=Ve(s),u=d===1?Te(l):Ue(d,l);function v(){var p=u.get(arguments);if(p===R){if(p=e.apply(null,arguments),c){var i=u.getEntries(),m=i.find(function(f){return c(f.value,p)});m&&(p=m.value)}u.put(arguments,p)}return p}return v.clearCache=function(){return u.clear()},v}function He(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=function(){for(var d=arguments.length,c=new Array(d),l=0;l<d;l++)c[l]=arguments[l];var u=0,v,p={memoizeOptions:void 0},i=c.pop();if(typeof i=="object"&&(p=i,i=c.pop()),typeof i!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var m=p,f=m.memoizeOptions,y=f===void 0?n:f,h=Array.isArray(y)?y:[y],S=He(c),k=e.apply(void 0,[function(){return u++,i.apply(null,arguments)}].concat(h)),B=e(function(){for(var L=[],K=S.length,I=0;I<K;I++)L.push(S[I].apply(null,arguments));return v=k.apply(null,L),v});return Object.assign(B,{resultFunc:i,memoizedResultFunc:k,dependencies:S,lastResult:function(){return v},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),B};return s}var Je=Ze(Ge);const z=e=>e.contacts.items,Ke=e=>e.filter.filter,O=e=>e.contacts.isLoading;Je([Ke,z],(e,t)=>{const n=e.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(n)).sort((r,s)=>r.name.localeCompare(s.name))});const $={"form-container":"_form-container_1d7qt_1","contact-form":"_contact-form_1d7qt_4"},Qe=()=>{const e=_(),t=g(z);g(O);const n=r=>{r.preventDefault();const s=r.currentTarget;let o={name:s.name.value,number:s.number.value};if(console.log("Form ",o),t.some(({name:d})=>d===o.name)){alert(`${o.name} is already in contacts`);return}e(de(o)),s.reset()};return a.jsx("div",{className:$["form-container"],children:a.jsxs("form",{className:$["contact-form"],onSubmit:n,children:[a.jsx(j,{type:"text",name:"name",pattern:"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,label:"Name",variant:"outlined",size:"small",fullWidth:!0}),a.jsx(j,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,label:"Phone: example 123-45-78",variant:"outlined",size:"small",fullWidth:!0}),a.jsx("div",{children:a.jsx(q,{className:$["add-contact"],type:"submit",variant:"outlined",children:"Add contact"})})]})})},Xe=()=>{const e=_(),t=n=>{e(pe(n.currentTarget.value.toUpperCase()))};return a.jsx(j,{onChange:t,label:"Find contacts by name",size:"small",variant:"outlined"})};var A={},V={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(V);var G=V.exports,M={};const Ye=fe(qe);var W;function H(){return W||(W=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Ye}(M)),M}var et=G;Object.defineProperty(A,"__esModule",{value:!0});var Z=A.default=void 0,tt=et(H()),nt=a,rt=(0,tt.default)((0,nt.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Z=A.default=rt;var P={},at=G;Object.defineProperty(P,"__esModule",{value:!0});var J=P.default=void 0,ot=at(H()),st=a,it=(0,ot.default)((0,st.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");J=P.default=it;const ct=()=>a.jsx("div",{children:"Loading..."}),lt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4},ut=({isOpen:e,id:t,name:n,number:r,onClose:s})=>{const[o,d]=C.useState(n),[c,l]=C.useState(r),u=_(),v=g(O),p=g(z),i=async m=>{m.preventDefault();const f=p.some(h=>h.name.toLowerCase()===o.toLowerCase()),y=p.some(h=>h.number===c);if(f&&y){E.Notify.failure(`${o} is already in contacts`);return}if(o===""||c===""){E.Notify.failure("Fields cannot be empty. Enter some data!");return}try{await u(ve({name:o,number:c,contactId:t})).unwrap(),E.Notify.success(`${n} contact was changed`),s()}catch(h){console.log(h),E.Notify.failure("Oooops!..Something went wrong:( Please try later")}};return a.jsx("div",{children:a.jsx(Ie,{open:e,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:a.jsx(T,{sx:{...lt,width:{xs:240,sm:400}},children:a.jsxs(T,{component:"form",autoComplete:"off",noValidate:!0,onSubmit:i,children:[a.jsx(j,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:o,onChange:({target:{value:m}})=>d(m)}),a.jsx(j,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,type:"tel",id:"number",label:"Phone Number",name:"number",value:c,onChange:({target:{value:m}})=>l(m)}),a.jsxs(me,{container:!0,justifyContent:"center",children:[a.jsx(q,{type:"submit",variant:"contained",sx:{mt:2,mb:2,mr:2},children:v==="update"?a.jsx(ct,{}):a.jsx(a.Fragment,{children:"Save"})}),a.jsx(q,{type:"button",size:"medium",variant:"outlined",sx:{mt:2,mb:2},onClick:s,children:"Cancel"})]})]})})})})},dt=e=>e.filter,w={"container-contact":"_container-contact_1kb92_1"},pt=({id:e,name:t,number:n})=>{var p;const r=g(z),s=g(dt),o=_(),[d,c]=C.useState(null),l=i=>{o(he(i))},u=i=>{c(i===d?null:i)},v=i=>i.filter(f=>f.name.toUpperCase().includes(s));return C.useEffect(()=>{o(ge())},[o]),a.jsx("div",{children:a.jsx("ul",{children:(p=v(r))==null?void 0:p.map(({name:i,number:m,id:f})=>a.jsxs("div",{className:w["container-contact"],children:[a.jsxs("li",{children:[i,": ",m]}),a.jsxs("div",{children:[a.jsx(U,{className:w["delete-contact"],"data-id":f,onClick:()=>l(f),edge:"end",children:a.jsx(Z,{})}),a.jsx(U,{className:w["delete-contact"],"data-id":f,onClick:()=>u(f),edge:"end",children:a.jsx(J,{})}),d===f&&a.jsx(ut,{onClose:()=>u(f),id:f,name:i,number:m,isOpen:!0})]})]},f))})})},gt=()=>(_(),g(xe),g(be),g(z),g(O),a.jsx(a.Fragment,{children:a.jsx(ye,{children:a.jsxs(F,{sx:{display:"flex",alignItems:"center",flexDirection:"column",gap:1,overflow:"hidden",mt:2,p:2},children:[a.jsx("h1",{children:"Phonebook"}),a.jsx(F,{sx:{p:2},children:a.jsx(Qe,{})}),a.jsxs(F,{sx:{p:2},children:[a.jsx("h2",{style:{display:"flex",justifyContent:"center"},children:"Contacts"}),a.jsx(Xe,{}),a.jsx(pt,{})]})]})})}));export{gt as default};
