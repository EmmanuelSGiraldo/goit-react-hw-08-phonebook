import{C as he,o as C,p as xe,q as Ce,t as ye,v as be,w as je,e as ee,g as te,f as N,x as Ae,k as g,y as H,h as M,i as ne,_ as oe,j as o,m as re,n as ae,P as F,z as Z,A as G,b as E,d as x,B as T,D as ze,E as Ie,F as Me,G as J,H as Se,I as $e,J as _e,K as Re,L as Ne,M as Ee,N as we}from"./index-f957b07a.js";import{c as Le,a as S,d as Pe,i as Be,o as Fe,b as Oe,u as ke,e as qe,T as R,M as Te}from"./TextField-313ef8ee.js";import{n as B}from"./notiflix-aio-3.2.6.min-dc3dc334.js";function We(e,t){return()=>null}function De(e,t){return()=>null}function Ue(e,t,n,r,a){return null}const Ve={configure:e=>{he.configure(e)}},He=Object.freeze(Object.defineProperty({__proto__:null,capitalize:C,createChainedFunction:Le,createSvgIcon:S,debounce:Pe,deprecatedPropType:We,isMuiElement:Be,ownerDocument:Fe,ownerWindow:Oe,requirePropFactory:De,setRef:xe,unstable_ClassNameGenerator:Ve,unstable_useEnhancedEffect:Ce,unstable_useId:ke,unsupportedProp:Ue,useControlled:qe,useEventCallback:ye,useForkRef:be,useIsFocusVisible:je},Symbol.toStringTag,{value:"Module"}));function Ze(e){return te("MuiAlert",e)}const Ge=ee("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),K=Ge;function Je(e){return te("MuiIconButton",e)}const Ke=ee("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Qe=Ke,Xe=["edge","children","className","color","disabled","disableFocusRipple","size"],Ye=e=>{const{classes:t,disabled:n,color:r,edge:a,size:s}=e,c={root:["root",n&&"disabled",r!=="default"&&`color${C(r)}`,a&&`edge${C(a)}`,`size${C(s)}`]};return ae(c,Je,t)},et=N(Ae,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${C(n.color)}`],n.edge&&t[`edge${C(n.edge)}`],t[`size${C(n.size)}`]]}})(({theme:e,ownerState:t})=>g({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return g({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&g({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":g({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:H(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Qe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),tt=M.forwardRef(function(t,n){const r=ne({props:t,name:"MuiIconButton"}),{edge:a=!1,children:s,className:c,color:l="default",disabled:u=!1,disableFocusRipple:d=!1,size:v="medium"}=r,p=oe(r,Xe),i=g({},r,{edge:a,color:l,disabled:u,disableFocusRipple:d,size:v}),f=Ye(i);return o.jsx(et,g({className:re(f.root,c),centerRipple:!0,focusRipple:!d,disabled:u,ref:n,ownerState:i},p,{children:s}))}),W=tt,nt=S(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ot=S(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),rt=S(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),at=S(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),st=S(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),lt=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],it=e=>{const{variant:t,color:n,severity:r,classes:a}=e,s={root:["root",`${t}${C(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return ae(s,Ze,a)},ct=N(F,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${C(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?Z:G,r=e.palette.mode==="light"?G:Z,a=t.color||t.severity;return g({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${a}Color`]:n(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${K.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}},a&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${a}Color`]:n(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${K.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}},a&&t.variant==="filled"&&g({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}))}),ut=N("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),dt=N("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Q=N("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),X={success:o.jsx(nt,{fontSize:"inherit"}),warning:o.jsx(ot,{fontSize:"inherit"}),error:o.jsx(rt,{fontSize:"inherit"}),info:o.jsx(at,{fontSize:"inherit"})},pt=M.forwardRef(function(t,n){var r,a,s,c,l,u;const d=ne({props:t,name:"MuiAlert"}),{action:v,children:p,className:i,closeText:f="Close",color:m,components:y={},componentsProps:h={},icon:b,iconMapping:L=X,onClose:$,role:j="alert",severity:A="success",slotProps:P={},slots:z={},variant:de="standard"}=d,pe=oe(d,lt),I=g({},d,{color:m,severity:A,variant:de}),_=it(I),fe=(r=(a=z.closeButton)!=null?a:y.CloseButton)!=null?r:W,me=(s=(c=z.closeIcon)!=null?c:y.CloseIcon)!=null?s:st,ve=(l=P.closeButton)!=null?l:h.closeButton,ge=(u=P.closeIcon)!=null?u:h.closeIcon;return o.jsxs(ct,g({role:j,elevation:0,ownerState:I,className:re(_.root,i),ref:n},pe,{children:[b!==!1?o.jsx(ut,{ownerState:I,className:_.icon,children:b||L[A]||X[A]}):null,o.jsx(dt,{ownerState:I,className:_.message,children:p}),v!=null?o.jsx(Q,{ownerState:I,className:_.action,children:v}):null,v==null&&$?o.jsx(Q,{ownerState:I,className:_.action,children:o.jsx(fe,g({size:"small","aria-label":f,title:f,color:"inherit",onClick:$},ve,{children:o.jsx(me,g({fontSize:"small"},ge))}))}):null]}))}),ft=pt;var O="NOT_FOUND";function mt(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:O},put:function(r,a){t={key:r,value:a}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function vt(e,t){var n=[];function r(l){var u=n.findIndex(function(v){return t(l,v.key)});if(u>-1){var d=n[u];return u>0&&(n.splice(u,1),n.unshift(d)),d.value}return O}function a(l,u){r(l)===O&&(n.unshift({key:l,value:u}),n.length>e&&n.pop())}function s(){return n}function c(){n=[]}return{get:r,put:a,getEntries:s,clear:c}}var gt=function(t,n){return t===n};function ht(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var a=n.length,s=0;s<a;s++)if(!e(n[s],r[s]))return!1;return!0}}function xt(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,a=r===void 0?gt:r,s=n.maxSize,c=s===void 0?1:s,l=n.resultEqualityCheck,u=ht(a),d=c===1?mt(u):vt(c,u);function v(){var p=d.get(arguments);if(p===O){if(p=e.apply(null,arguments),l){var i=d.getEntries(),f=i.find(function(m){return l(m.value,p)});f&&(p=f.value)}d.put(arguments,p)}return p}return v.clearCache=function(){return d.clear()},v}function Ct(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=0,v,p={memoizeOptions:void 0},i=l.pop();if(typeof i=="object"&&(p=i,i=l.pop()),typeof i!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var f=p,m=f.memoizeOptions,y=m===void 0?n:m,h=Array.isArray(y)?y:[y],b=Ct(l),L=e.apply(void 0,[function(){return d++,i.apply(null,arguments)}].concat(h)),$=e(function(){for(var A=[],P=b.length,z=0;z<P;z++)A.push(b[z].apply(null,arguments));return v=L.apply(null,A),v});return Object.assign($,{resultFunc:i,memoizedResultFunc:L,dependencies:b,lastResult:function(){return v},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),$};return a}var bt=yt(xt);const w=e=>e.contacts.items,jt=e=>e.filter.filter,D=e=>e.contacts.isLoading;bt([jt,w],(e,t)=>{const n=e.toLowerCase();return t.filter(r=>r.name.toLowerCase().includes(n)).sort((r,a)=>r.name.localeCompare(a.name))});const At=()=>{const e=E(),t=x(w),n=x(D),r=a=>{a.preventDefault();const s=a.currentTarget;let c={name:s.name.value,number:s.number.value};if(console.log("Form ",c),t.some(({name:l})=>l===c.name)){ft.error(`${c.name} is already in contacts`);return}e(ze(c)),s.reset()};return o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"20px"},children:o.jsxs("form",{onSubmit:r,style:{width:"60%",maxWidth:"500px"},children:[o.jsx(R,{type:"text",name:"name",pattern:"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,label:"Name",variant:"outlined",size:"small",fullWidth:!0,style:{marginBottom:"10px"}}),o.jsx(R,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,label:"Phone: example 123-45-78",variant:"outlined",size:"small",fullWidth:!0,style:{marginBottom:"10px"}}),o.jsx(T,{type:"submit",variant:"contained",fullWidth:!0,style:{marginTop:"20px",backgroundColor:"#888888",color:"white",minWidth:"120px",maxWidth:"200px",fontSize:"16px"},disabled:n,children:n?"Loading...":"Add contact"})]})})},zt=()=>{const e=E(),t=n=>{e(Ie(n.currentTarget.value.toUpperCase()))};return o.jsx(R,{onChange:t,label:"Find contacts by name",size:"small",variant:"outlined"})};var U={},se={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(se);var le=se.exports,k={};const It=Me(He);var Y;function ie(){return Y||(Y=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=It}(k)),k}var Mt=le;Object.defineProperty(U,"__esModule",{value:!0});var ce=U.default=void 0,St=Mt(ie()),$t=o,_t=(0,St.default)((0,$t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");ce=U.default=_t;var V={},Rt=le;Object.defineProperty(V,"__esModule",{value:!0});var ue=V.default=void 0,Nt=Rt(ie()),Et=o,wt=(0,Nt.default)((0,Et.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");ue=V.default=wt;const Lt=()=>o.jsx("div",{children:"Loading..."}),Pt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4},Bt=({isOpen:e,id:t,name:n,number:r,onClose:a})=>{const[s,c]=M.useState(n),[l,u]=M.useState(r),d=E(),v=x(D),p=x(w),i=async f=>{f.preventDefault();const m=p.some(h=>h.name.toLowerCase()===s.toLowerCase()),y=p.some(h=>h.number===l);if(m&&y){B.Notify.failure(`${s} is already in contacts`);return}if(s===""||l===""){B.Notify.failure("Fields cannot be empty. Enter some data!");return}try{await d($e({name:s,number:l,contactId:t})).unwrap(),B.Notify.success(`${n} contact was changed`),a()}catch(h){console.log(h),B.Notify.failure("Oooops!..Something went wrong:( Please try later")}};return o.jsx("div",{children:o.jsx(Te,{open:e,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:o.jsx(J,{sx:{...Pt,width:{xs:240,sm:400}},children:o.jsxs(J,{component:"form",autoComplete:"off",noValidate:!0,onSubmit:i,children:[o.jsx(R,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:s,onChange:({target:{value:f}})=>c(f)}),o.jsx(R,{variant:"filled",margin:"normal",required:!0,fullWidth:!0,type:"tel",id:"number",label:"Phone Number",name:"number",value:l,onChange:({target:{value:f}})=>u(f)}),o.jsxs(Se,{container:!0,justifyContent:"center",children:[o.jsx(T,{type:"submit",variant:"contained",sx:{mt:2,mb:2,mr:2},children:v==="update"?o.jsx(Lt,{}):o.jsx(o.Fragment,{children:"Save"})}),o.jsx(T,{type:"button",size:"medium",variant:"outlined",sx:{mt:2,mb:2},onClick:a,children:"Cancel"})]})]})})})})},Ft=e=>e.filter,q={"container-contact":"_container-contact_1kb92_1"},Ot=({id:e,name:t,number:n})=>{var p;const r=x(w),a=x(Ft),s=E(),[c,l]=M.useState(null),u=i=>{s(Re(i))},d=i=>{l(i===c?null:i)},v=i=>i.filter(m=>m.name.toUpperCase().includes(a));return M.useEffect(()=>{s(_e())},[s]),o.jsx("div",{children:o.jsx("ul",{children:(p=v(r))==null?void 0:p.map(({name:i,number:f,id:m})=>o.jsxs("div",{className:q["container-contact"],children:[o.jsxs("li",{children:[i,": ",f]}),o.jsxs("div",{children:[o.jsx(W,{className:q["delete-contact"],"data-id":m,onClick:()=>u(m),edge:"end",children:o.jsx(ce,{})}),o.jsx(W,{className:q["delete-contact"],"data-id":m,onClick:()=>d(m),edge:"end",children:o.jsx(ue,{})}),c===m&&o.jsx(Bt,{onClose:()=>d(m),id:m,name:i,number:f,isOpen:!0})]})]},m))})})},Wt=()=>(E(),x(Ne),x(Ee),x(w),x(D),o.jsx(o.Fragment,{children:o.jsx(we,{children:o.jsxs(F,{sx:{display:"flex",alignItems:"center",flexDirection:"column",gap:1,overflow:"hidden",mt:2,p:2},children:[o.jsx("h1",{children:"Phonebook"}),o.jsx(F,{sx:{p:2},children:o.jsx(At,{})}),o.jsxs(F,{sx:{p:2},children:[o.jsx("h2",{style:{display:"flex",justifyContent:"center"},children:"Contacts"}),o.jsx(zt,{}),o.jsx(Ot,{})]})]})})}));export{Wt as default};
